<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="deian-installer-组件定制">deian-installer 组件定制</h1>
<ul>
<li>修改安装器默认背景logo： git@bj.git.sndu.cn:Debian9-Server-Packages/rootskel-gtk.git</li>
<li>调整安装器自动挂载磁盘： git@bj.git.sndu.cn:Debian9-Server-Packages/mountmedia.git</li>
<li>添加U盘安装支持功能: git@bj.git.sndu.cn:Debian9-Server-Packages/cdrom-detect.git</li>
<li>修改默认分区格式: git@bj.git.sndu.cn:Debian9-Server-Packages/partman-base.git</li>
<li>修改分区提示信息: git@bj.git.sndu.cn:Debian9-Server-Packages/partman-ext3.git</li>
<li>选择内核软件包： git@bj.git.sndu.cn:Debian9-Server-Packages/base-installer.git</li>
<li>安装器补充非自由固件: git@bj.git.sndu.cn:server-packages/firmware-nonfree-udeb.git</li>
<li>ext2/3/4分区格式化参数： 修改 e2fsprogs 源码包 misc/mke2fs.conf.in</li>
</ul>
<h1 id="原debian8版本已经完成的工作">原debian8版本已经完成的工作</h1>
<ul>
<li>tasksel 定义软件分组</li>
<li>base-files 设置基本系统标志</li>
<li>grub2 设置启动项 ProduceName 标志</li>
<li>debootstrap 添加深度 codename kui 支持</li>
<li>debian-archive-keyring 补充深度仓库key</li>
<li>lsb 修改lsb_release -a 输出信息</li>
<li>distro-info-data 发型版信息数据库</li>
<li>desktop-base 设置默认主题和默认背景</li>
<li>mate-backgrounds 设置系统默认背景</li>
<li>bash 设置tty终端 LANGUAGE 永远为 C<br />
</li>
<li>systemd 设置/lib/systemd/system/ctrl-alt-del.target默认链接为/dev/null</li>
<li>iptables 添加iptable 服务管理脚本：git@bj.git.sndu.cn:server-packages/iptables.git</li>
</ul>
<h1 id="内核有模块但是缺少对应硬件设备固件">内核有模块，但是缺少对应硬件设备固件</h1>
<p>以 megaraid-sas-9361-8i raid卡和 deepin server 15.1 为例,设备驱动官网下载地址 https://www.broadcom.com/products/storage/raid-controllers/megaraid-sas-9361-8i#downloads</p>
<ol type="1">
<li><p>下载ISO，使用深度启动盘制作工具制作成USB安装盘，</p></li>
<li><p>将对应网卡固件mr3108fw.rom,放到U盘分区firmware文件夹下</p></li>
<li><p>修改U盘分区下custom.postinstall脚本，添加如下一行，解决安装后系统驱动raid卡的问题</p>
<pre><code>cp /cdrom/firmware/mr3108fw.rom /target/lib/firmware/</code></pre></li>
<li><p>确认修改无误，重新安装系统即可</p></li>
</ol>
</body>
</html>
